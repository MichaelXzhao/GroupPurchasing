import{_ as D,r as d,a as q,f as x,o as u,c as h,b as t,t as n,w as y,v as w,F as m,g as k,h as S,i as I,p as C,e as T}from"./index-7654b0de.js";import{L,_ as O,a as j}from"./Group2-987bdde3.js";import{a as v,c as G,s as E}from"./shareURL-14ab96ed.js";const U={setup(){let l=d({}),e=d(),i=d(0),o=d(0),_=d(""),p=d({}),r=d(!1),a=s=>{o.value=G.addqty(s)},b=s=>{o.value=G.reduceqty(s)},B=async()=>{console.log(o.value),console.log("http://localhost:9191/"),await v.post("http://localhost:9191/api/Order/add",{user_name:localStorage.getItem("username"),product_qty:o.value,price:l.value.price,product:l.value.product,picture:l.value.picture,salepageid:l.value.salepageid,shopid:l.value.shopid,skuid:l.value.skuid}).then(s=>{console.log(s)}).catch(s=>{console.log(s)}),await v.get("http://localhost:9191/api/Order/Detail?salepageid="+localStorage.getItem("salepageid")).then(s=>{console.log(s),l.value=s.data,console.log(l.value),e.value=s.data.memberData,i.value=0,e.value.forEach(g=>{i.value=i.value+g.qty}),p.value=s.data.discountData}).catch(s=>{console.log(s)}).finally(()=>{window.scrollTo(0,document.body.scrollHeight)})},f=()=>{E.shareURL(localStorage.getItem("username"))};return q(()=>{r.value=!0,console.log("http://localhost:9191/"),v.get("http://localhost:9191/api/Order/Detail?salepageid="+localStorage.getItem("salepageid")).then(s=>{console.log(s),l.value=s.data,console.log(l.value),e.value=s.data.memberData,i.value=0,e.value.forEach(g=>{i.value=i.value+g.qty}),console.log(e.value),_.value="https:"+s.data.picture,p.value=s.data.discountData}).catch(s=>{console.log(s)}).finally(()=>{r.value=!1})}),{data:l,memberData:e,totalqty:i,inputqty:o,imgurl:_,discountData:p,loadingDisplay:r,addqty:a,reduceqty:b,joinGroupBuy:B,shareWeb:f}},components:{Loading:L}},c=l=>(C("data-v-5d7c3e0d"),l=l(),T(),l),V=c(()=>t("div",{class:"layout-header-fix"},[t("div",{class:"layout-header-fix-logo"},[t("img",{style:{height:"100px"},src:O,alt:""}),t("img",{class:"header-logo",src:j,alt:""})])],-1)),W={class:"hostGroupBuy-content"},F={class:"hostGroupBuy-content-content"},M={class:"hostGroupBuy-content-left"},N={class:"hostGroupBuy-content-left-img"},P={class:"hostGroupBuy-content-left-img-div"},R=["src"],z=c(()=>t("div",{class:"hostGroupBuy-content-left-img-small"},null,-1)),H={class:"hostGroupBuy-content-right"},A={class:"hostGroupBuy-content-right-title"},J={class:"hostGroupBuy-content-right-price"},K=c(()=>t("div",{class:"hostGroupBuy-content-right-color"},[t("div",{class:"hostGroupBuy-content-right-color-content"})],-1)),Q=c(()=>t("div",{class:"hostGroupBuy-content-right-size"},[t("div",{class:"hostGroupBuy-content-right-color-content"})],-1)),X={class:"hostGroupBuy-content-right-qty"},Y=c(()=>t("div",{class:"hostGroupBuy-content-right-color-title"},"數量",-1)),Z={class:"hostGroupBuy-content-right-qty-content"},$={style:{width:"10px"},"enable-background":"new 0 0 10 10",viewBox:"0 0 10 10",x:"0",y:"0",class:"shopee-svg-icon"},tt=c(()=>t("polygon",{points:"4.5 4.5 3.5 4.5 0 4.5 0 5.5 3.5 5.5 4.5 5.5 10 5.5 10 4.5"},null,-1)),ot=[tt],st={style:{width:"10px"},"enable-background":"new 0 0 10 10",viewBox:"0 0 10 10",x:"0",y:"0",class:"shopee-svg-icon icon-plus-sign"},et=c(()=>t("polygon",{points:"10 4.5 5.5 4.5 5.5 0 4.5 0 4.5 4.5 0 4.5 0 5.5 4.5 5.5 4.5 10 5.5 10 5.5 5.5 10 5.5"},null,-1)),lt=[et],at={class:"hostGroupBuy-content-right-color-content-groupbuy"},nt={class:"hostGroup-list"},it={class:"hostGroup-list-table"},ct={class:"hostGroup-list-table-table"},dt=c(()=>t("thead",{class:"hostGroup-list-table-table-thead"},[t("tr",null,[t("th",null,"名稱"),t("th",null,"數量"),t("th",null,"金額")])],-1)),rt={class:"hostGroup-list-table-table-tbody"},ut={class:"hostGroup-list-total"},ht={class:"hostGroup-list-total-total"},pt={class:"hostGroup-list-total-content"},_t={style:{"margin-right":"10px"}},gt={style:{"margin-right":"10px"}},vt={style:{"margin-right":"10px"}},yt={style:{"margin-right":"10px"}},mt={class:"loading"};function Gt(l,e,i,o,_,p){const r=x("Loading");return u(),h(m,null,[V,t("div",W,[t("div",F,[t("div",M,[t("div",N,[t("div",P,[t("img",{class:"hostGroupBuy-content-left-img-img",src:o.imgurl,alt:""},null,8,R)]),z])]),t("div",H,[t("div",A,n(o.data.product),1),t("div",J,"$"+n(o.data.price),1),K,Q,t("div",X,[Y,t("div",Z,[t("button",{class:"hostGroupBuy-content-right-color-content-minus",onClick:e[0]||(e[0]=a=>o.reduceqty(o.inputqty))},[(u(),h("svg",$,ot))]),y(t("input",{class:"hostGroupBuy-content-right-color-content-input",type:"number","onUpdate:modelValue":e[1]||(e[1]=a=>o.inputqty=a)},null,512),[[w,o.inputqty]]),t("button",{class:"hostGroupBuy-content-right-color-content-plus",onClick:e[2]||(e[2]=a=>o.addqty(o.inputqty))},[(u(),h("svg",st,lt))])])]),t("div",at,[t("button",{class:"hostGroupBuy-content-right-color-content-groupbuy-button",onClick:e[3]||(e[3]=(...a)=>o.joinGroupBuy&&o.joinGroupBuy(...a))}," 加入團購 "),t("button",{class:"hostGroupBuy-content-right-color-content-share-button",onClick:e[4]||(e[4]=(...a)=>o.shareWeb&&o.shareWeb(...a))}," 分享連結 ")]),t("div",null,"已選購$"+n(o.discountData.totalOriginalPrice),1),t("div",null,"目前折扣"+n(o.discountData.promotionDiscount),1),t("div",null,n(o.discountData.promotionDiscountTitle),1),t("div",null,n(o.discountData.recommendConditionTitle),1)])])]),t("div",nt,[t("div",it,[t("table",ct,[dt,t("tbody",rt,[(u(!0),h(m,null,k(o.memberData,a=>(u(),h("tr",null,[t("td",null,n(a.member),1),t("td",null,n(a.qty),1),t("td",null,n(a.qty*o.data.price),1)]))),256))])]),t("div",ut,[t("div",ht,[t("div",pt,[t("div",_t,"已選購$"+n(o.discountData.totalOriginalPrice),1),t("div",gt,"目前折扣"+n(o.discountData.promotionDiscount),1),t("div",vt,n(o.discountData.promotionDiscountTitle),1),t("div",yt,n(o.discountData.recommendConditionTitle),1)])])])])]),y(t("div",mt,[I(r)],512),[[S,o.loadingDisplay]])],64)}const Dt=D(U,[["render",Gt],["__scopeId","data-v-5d7c3e0d"]]);export{Dt as default};
